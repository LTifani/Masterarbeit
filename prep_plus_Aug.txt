| Methode            | Effekt                                                      | Zweck                                        |
| ------------------ | ----------------------------------------------------------- | -------------------------------------------- |
| `aug_add_noise`    | Leichtes Rauschen hinzufügen                                | Robustheit gg. Rauschvariation               |
| `aug_time_shift`   | Signal zeitlich verschieben (mit Padding, kein Wrap-Around) | Positionsinvarianz                           |
| `aug_gain`         | Amplitude zufällig skalieren (±10 %)                        | Simulation unterschiedlicher Nadelpositionen |
| `aug_time_stretch` | Leichte Dehnung/Stauchung (±5 %)                            | Variation von Aktivitätsdauer                |
| `aug_time_mask`    | Kurze Abschnitte auf 0 setzen                               | Robustheit gg. Aussetzer                     |



| Effekt                               | Empfehlung                                               |
| ------------------------------------ | -------------------------------------------------------- |
| **Mehr Varianz (robusteres Modell)** | `aug_per_segment=2–3` erhöhen                            |
| **Etwas stärkeres Rauschen**         | `noise_std=(0.005,0.02)`                                 |
| **Mehr Zeitvariabilität**            | `stretch_range=(0.9,1.1)`                                |
| **Mehr Robustheit gg. Dropouts**     | `mask_frac_range=(0.05,0.2)`                             |
| **Minimalistische Variante**         | `augment=False` → nur Rohdaten ohne künstliche Variation |



| Nr.   | Schritt                                                               | Beschreibung                                                                                                                                                                                                                                                | Warum dieser Schritt wichtig ist                                                                                                                                                                                                |
| ----- | --------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1** | **WAV-Dateien einlesen**                                              | Jede Aufnahme aus `Dataset/Normal/` und `Dataset/Spontanaktivität/` wird mit `soundfile` oder `librosa` als 1-D-Signal (float32) geladen.                                                                                                                   | Standardisiert den Zugriff auf alle Aufnahmen – unabhängig vom Aufnahmegerät oder Sampling-Format.                                                                                                                              |
| **2** | **Resampling auf einheitliche Samplingrate (`target_sr = 11025 Hz`)** | Alle Signale werden auf dieselbe Abtastrate gebracht.                                                                                                                                                                                                       | Vergleichbarkeit: unterschiedliche Samplingraten würden Frequenzen verschieben und Filter/Modelle verzerren. 11 kHz reicht aus, um das relevante EMG-Spektrum (bis ca. 4,5 kHz) vollständig abzudecken.                         |
| **3** | **Bandpass-Filterung (20 – 4500 Hz, Butterworth 4. Ordnung)**         | Frequenzen unter 20 Hz (Bewegungsartefakte, Baseline-Drift) und über 4500 Hz (Rauschen) werden entfernt.                                                                                                                                                    | Isoliert das physiologische EMG-Signal. Muskelaktionspotenziale liegen typischerweise zwischen 20 Hz und 5 kHz.                                                                                                                 |
| **4** | **Notch-Filterung bei 50 Hz (Q = 30)**                                | Entfernt das Netzbrummen (50 Hz, Stromleitungsartefakt).                                                                                                                                                                                                    | Unterdrückt eine häufige Störfrequenz ohne die Nachbarbänder (z. B. 40–60 Hz) zu stark zu beeinflussen.                                                                                                                         |
| **5** | **Segmentierung in Fenster (`window_sec = 1 s`, `hop_sec = 0.5 s`)**  | Das kontinuierliche Signal wird in überlappende 1-Sekunden-Segmente zerlegt.                                                                                                                                                                                | Der Autoencoder arbeitet auf kurzen, stationären Ausschnitten. 1 s ist lang genug für mehrere motorische Einheitspotenziale, aber kurz genug für viele Trainingsbeispiele.                                                      |
| **6** | **Z-Score-Normalisierung pro Segment**                                | Jedes Segment wird auf Mittelwert 0 und Standardabweichung 1 skaliert.                                                                                                                                                                                      | Entfernt Pegel- und Verstärkungsunterschiede zwischen Aufnahmen → Modell lernt Form statt Amplitude.                                                                                                                            |
| **7** | **Optionale Datenaugmentation** <br>*(für Training auf Normal-Daten)* | Auf jedes Segment können mehrere zufällige Transformationen angewendet werden:<br>– **additive Noise** (leichtes Rauschen) <br>– **time-shift** (±100 ms) <br>– **gain scaling** (±10 %) <br>– **time-stretch** (±5 %) <br>– **time-mask** (kurze 0-Phasen) | Erzeugt natürliche Variationen (z. B. andere Nadelpositionen, leichte Artefakte), verhindert Overfitting und verbessert Generalisierbarkeit. Alle Werte sind physiologisch plausibel und verändern keine pathologischen Muster. |
| **8** | **Split in Train/Validation/Test + Speichern als `.npz`**             | Normal-Segmente → 70 % Train, 15 % Val, 15 % Test. <br>Abnormale Segmente → hälftig Val/Test. <br>Alles wird mit `np.savez_compressed` gespeichert.                                                                                                         | Liefert reproduzierbare Datasets für dein Autoencoder-Training. Nur Normal-Segmente werden gelernt → Abnormale dienen später zur Bewertung der Anomalieerkennung.                                                               |
